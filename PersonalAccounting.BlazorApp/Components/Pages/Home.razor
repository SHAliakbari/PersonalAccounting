@page "/"
@rendermode InteractiveServer

@using PersonalAccounting.BlazorApp.Components.Account
@inject NavigationManager NavigationManager

@attribute [StreamRendering]

@code {
    private bool _navigationOccurred;

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender && !_navigationOccurred)
        {
            _navigationOccurred = true;
            try
            {
                NavigationManager.NavigateTo("/transfers/list", replace: true);
            }
            catch (NavigationException)
            {
                // Ignore
            }
        }
        base.OnAfterRender(firstRender);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && !_navigationOccurred)
        {
            _navigationOccurred = true;
            try
            {
                NavigationManager.NavigateTo("/transfers/list", replace: true);
            }
            catch (NavigationException)
            {
                // Ignore
            }
        }
        await base.OnAfterRenderAsync(firstRender);
    }
}